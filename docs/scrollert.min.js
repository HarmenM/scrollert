var Scrollert;!function(t){var e=function(){function t(){}return t.calculate=function(t){var e,s,o;if(t.length<=0)throw new TypeError("Invalid container trail specified for scrollbar dimensions calculation");for(var l=0,r=t;l<r.length;l++){var i=r[l];s=document.createElement(i.tagName),s.className=i.classes,o?o.appendChild(s):e=s,o=s}e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.width="200px",e.style.height="200px",s.style.overflow="hidden",document.body.appendChild(e);var n=s.clientWidth;s.style.overflow="scroll";var a=s.clientWidth;return document.body.removeChild(e),n-a},t}();t.ScrollbarDimensions=e}(Scrollert||(Scrollert={}));var Scrollert;!function(t){var e=function(){function e(s,o){var l=this;this.containerElm=s,this.options={axes:["x","y"],preventOuterScroll:!1,cssPrefix:"scrollert",eventNamespace:"scrollert",contentSelector:null},this.scrollbarElms={x:null,y:null},this.scrollCache={x:null,y:null},this.onScrollWheel=function(t){for(var e=t.originalEvent,s=0,o=l.options.axes;s<o.length;s++){var r=o[s],i=e["delta"+r.toUpperCase()];0!==i&&l.preventOuterScroll(r,i<0?"heen":"weer",t)}},this.onKeyDown=function(t){document.activeElement===l.contentElm[0]&&([37,38,33,36].indexOf(t.which)!==-1?l.preventOuterScroll([38,33,36].indexOf(t.which)!==-1?"y":"x","heen",t):[39,40,32,34,35].indexOf(t.which)!==-1&&l.preventOuterScroll([40,35,36,34,32].indexOf(t.which)!==-1?"y":"x","weer",t))},this.offsetContentElmScrollbars=function(e){void 0===e&&(e=!1);var s=t.ScrollbarDimensions.calculate([{tagName:l.containerElm.prop("tagName"),classes:l.containerElm.prop("class")},{tagName:l.contentElm.prop("tagName"),classes:l.contentElm.prop("class")}]),o=!1;0===s&&l.hasVisibleFloatingScrollbar()===!0&&(o=!0,s=20);var r={};l.options.axes.indexOf("y")!==-1&&(r["overflow-y"]="scroll",s&&(r.right=-s+"px"),o&&(r["padding-right"]=!1)),l.options.axes.indexOf("x")!==-1&&(r["overflow-x"]="scroll",s&&(r.bottom=-s+"px"),o&&(r["padding-bottom"]=!1)),l.originalCssValues||(l.originalCssValues=l.contentElm.css(Object.keys(r))),o&&r["padding-right"]===!1&&(r["padding-right"]=parseInt(l.originalCssValues["padding-right"])+s+"px"),o&&r["padding-bottom"]===!1&&(r["padding-bottom"]=parseInt(l.originalCssValues["padding-bottom"])+s+"px"),l.contentElm.css(r)},this.onScrollbarMousedown=function(t,e,s,o){o.target===e[0]?(l.scrollToClickedPosition(t,o),l.trackMousedown(t,e,o)):o.target===s[0]&&l.trackMousedown(t,e,o)},this.options=jQuery.extend({},this.options,o),this.options.eventNamespace=this.options.eventNamespace+ ++e.eventNamespaceId,this.contentElm=this.containerElm.children(this.options.contentSelector||"."+this.options.cssPrefix+"-content"),this.offsetContentElmScrollbars(),this.update(),this.options.preventOuterScroll===!0&&this.contentElm.on("wheel."+this.options.eventNamespace,this.onScrollWheel),jQuery(window).on("resize."+this.options.eventNamespace,this.offsetContentElmScrollbars.bind(this,!0))}return e.prototype.update=function(){for(var t=!1,e=0,s=this.options.axes;e<s.length;e++){var o=s[e];this.updateAxis(o),0!==this.getValue(this.contentElm,"scrollPos",o)&&(t=!0)}t===!0&&this.contentElm.trigger("scroll."+this.options.eventNamespace)},e.prototype.addScrollbar=function(t,e){var s,o;return e.append(s=jQuery("<div />").addClass(this.options.cssPrefix+"-scrollbar "+this.options.cssPrefix+"-scrollbar-"+t).append(o=jQuery("<div />").addClass(this.options.cssPrefix+"-track"))),{scrollbar:s,track:o}},e.prototype.preventOuterScroll=function(t,e,s){var o=this.getValue(this.contentElm,"scrollPos",t);switch(e){case"heen":o<=0&&s.preventDefault();break;case"weer":var l=this.getValue(this.contentElm,"scrollSize",t),r=this.getValue(this.contentElm,"clientSize",t);l-o===r&&s.preventDefault()}},e.prototype.hasVisibleFloatingScrollbar=function(){return null===window.navigator.userAgent.match(/AppleWebKit/i)},e.prototype.updateAxis=function(t){var e=this.hasScroll(t);if(e===!0&&null===this.scrollbarElms[t]){this.containerElm.addClass(this.options.cssPrefix+"-axis-"+t);var s=this.addScrollbar(t,this.containerElm),o=s.scrollbar,l=s.track;o.on("mousedown."+t+"."+this.options.eventNamespace,this.onScrollbarMousedown.bind(this,t,o,l)),this.contentElm.on("scroll."+t+"."+this.options.eventNamespace,this.onScroll.bind(this,t,o,l)),this.scrollbarElms[t]=s}else e===!1&&null!==this.scrollbarElms[t]&&(this.containerElm.removeClass(this.options.cssPrefix+"-axis-"+t),this.scrollbarElms[t].scrollbar.remove(),this.scrollbarElms[t]=null,this.contentElm.off("."+t+"."+this.options.eventNamespace));null!==this.scrollbarElms[t]&&this.resizeTrack(t,this.scrollbarElms[t].scrollbar,this.scrollbarElms[t].track)},e.prototype.getValue=function(t,e,s){switch(e){case"size":return t["y"===s?"outerHeight":"outerWidth"]();case"clientSize":return t[0]["y"===s?"clientHeight":"clientWidth"];case"scrollSize":return t[0]["y"===s?"scrollHeight":"scrollWidth"];case"scrollPos":return t["y"===s?"scrollTop":"scrollLeft"]()}},e.prototype.hasScroll=function(t){var e=this.getValue(this.contentElm,"size",t),s=this.getValue(this.contentElm,"scrollSize",t);return e<s},e.prototype.resizeTrack=function(t,e,s){var o=this.getValue(this.contentElm,"size",t),l=this.getValue(this.contentElm,"scrollSize",t);if(o<l){e.removeClass("hidden");var r=this.getValue(e,"size",t);s.css("y"===t?"height":"width",r*(o/l))}else e.addClass("hidden")},e.prototype.positionTrack=function(t,e,s){var o=this.getValue(this.contentElm,"scrollPos",t)/(this.getValue(this.contentElm,"scrollSize",t)-this.getValue(this.contentElm,"size",t)),l=this.getValue(s,"size",t),r=this.getValue(e,"size",t);s.css("y"===t?"top":"left",(r-l)*o)},e.prototype.onScroll=function(t,e,s,o){this.scrollCache[t]!==(this.scrollCache[t]=this.getValue(this.contentElm,"scrollPos",t))&&this.positionTrack(t,e,s)},e.prototype.trackMousedown=function(t,e,s){var o=this;s.preventDefault();var l={startPos:s["y"===t?"pageY":"pageX"],startScroll:this.contentElm["y"===t?"scrollTop":"scrollLeft"](),scrollFactor:this.getValue(this.contentElm,"scrollSize",t)/this.getValue(e,"size",t)},r=jQuery(window),i=this.onTrackDrag.bind(this,t,l);this.containerElm.addClass(this.options.cssPrefix+"-trackdrag-"+t),r.on("mousemove."+this.options.eventNamespace,i).one("mouseup."+this.options.eventNamespace,function(){r.off("mousemove",i),o.containerElm.removeClass(o.options.cssPrefix+"-trackdrag-"+t)})},e.prototype.onTrackDrag=function(t,e,s){s.preventDefault(),this.contentElm["y"===t?"scrollTop":"scrollLeft"](e.startScroll+(s["y"===t?"pageY":"pageX"]-e.startPos)*e.scrollFactor)},e.prototype.scrollToClickedPosition=function(t,e){e.preventDefault();var s=e["y"===t?"offsetY":"offsetX"];s<=10&&(s=0),this.contentElm["y"===t?"scrollTop":"scrollLeft"](this.getValue(this.contentElm,"scrollSize",t)*(s/this.getValue(jQuery(e.target),"size",t)))},e.prototype.destroy=function(){this.contentElm.off("."+this.options.eventNamespace),jQuery(window).off("."+this.options.eventNamespace);for(var t in this.scrollbarElms)this.scrollbarElms[t]&&this.scrollbarElms[t].scrollbar instanceof jQuery==!0&&(this.scrollbarElms[t].scrollbar.remove(),this.scrollbarElms[t]=null);this.contentElm.css(this.originalCssValues)},e.NAME="scrollert",e.eventNamespaceId=0,e}();t.Plugin=e}(Scrollert||(Scrollert={})),jQuery.fn[Scrollert.Plugin.NAME]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var s="string"==typeof t[0]?t[0]:"init",o="object"==typeof t[1]?t[1]:"object"==typeof t[0]?t[0]:{};return this.each(function(){var t=jQuery(this),e="plugin-"+Scrollert.Plugin.NAME,l=t.data(e);if("init"===s&&l instanceof Scrollert.Plugin==!1)t.data(e,l=new Scrollert.Plugin(jQuery(this),o));else if(l instanceof Scrollert.Plugin==!1)throw new TypeError("The Scrollert plugin is not yet initialized");switch(s){case"init":return;case"update":l.update();break;case"destroy":l.destroy(),t.removeData(e);break;default:throw new TypeError("Invalid Scrollert action "+s)}})};
